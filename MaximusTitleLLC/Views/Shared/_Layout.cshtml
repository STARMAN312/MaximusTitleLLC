@model ContactFormVM

@{
	var controller = ViewContext.RouteData.Values["controller"]?.ToString();
	var action = ViewContext.RouteData.Values["action"]?.ToString();
}

<!DOCTYPE html>
<html lang="en" style="--primary01: rgba(0, 54, 105, 0.1); --primary02: rgba(0, 54, 105, 0.2); --primary03: rgba(0, 54, 105, 0.3); --primary06: rgba(0, 54, 105, 0.6); --primary09: rgba(0, 54, 105, 0.9); --primary05: rgba(0, 54, 105, 0.5); --primary-bg-color: #003669; --primary-bg-hover: #00366995; --primary-bg-border: #003669; --dark-null: #003669; --transparent-null: #00366995; --primary-transparentcolor: #00366920; --darkprimary-null: #00366920; --transparentprimary-null: #00366920;">
<head>
	<meta charset="UTF-8">
	<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Title -->
	<title>@ViewData["Title"]</title>

	<!-- Favicon -->
	<link rel="icon" href="~/img/brand/favicon.png" type="image/x-icon" />

	<!-- Icons css -->
	<link href="~/css/icons.css" rel="stylesheet">

	<!--  bootstrap css-->
	<link id="style" href="~/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

	<!-- style css -->
	<link href="~/css/style.css" rel="stylesheet">
	<link href="~/css/style-dark.css" rel="stylesheet">
	<link href="~/css/style-transparent.css" rel="stylesheet">

	<!---Skinmodes css-->
	<link href="~/css/skin-modes.css" rel="stylesheet" />

	<link href="~/css/Layouts/_Layout.css" rel="stylesheet"/>

</head>

<body class="ltr main-body app light-theme horizontal sidebar-gone">

	<!-- Loader -->
	<div id="global-loader">
		<img src="~/img/loader.svg" class="loader-img" alt="Loader">
	</div>
	<!-- /Loader -->
	<!-- Page -->
	<div class="page">

		<div>
			<!-- main-header -->
			<div class="main-header side-header sticky nav nav-item">
				<div class=" main-container container-fluid">
					<div class="main-header-left ">
						<div class="responsive-logo">
							<a asp-controller="Home" asp-action="Index" class="header-logo">
								<img src="~/img/brand/logo.jpg" class="mobile-logo logo-1" alt="logo">
							</a>
						</div>
						<div class="logo-horizontal">
							<a asp-controller="Home" asp-action="Index" class="header-logo">
								<img src="~/img/brand/logo.jpg" class="mobile-logo logo-1" alt="logo">
							</a>
						</div>
					</div>
					<div class="main-header-right">
						<button class="navbar-toggler navresponsive-toggler d-lg-none ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent-4" aria-controls="navbarSupportedContent-4" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon fe fe-more-vertical "></span>
						</button>
						<div class="mb-0 navbar navbar-expand-lg navbar-nav-right responsive-navbar navbar-dark p-0">
							<div class="collapse navbar-collapse" id="navbarSupportedContent-4">
								<ul class="nav nav-item header-icons navbar-nav-right ms-auto align-items-center">
									<li class="nav-item main-header-notification mx-2 tx-bold">
										<a asp-controller="Home" asp-action="About" class="@(controller == "Home" && action == "About" ? "active" : "tx-gray-500")">ABOUT</a>
									</li>
									<li class="nav-item main-header-notification mx-2 tx-bold">
										<a asp-controller="Home" asp-action="Services" class="@(controller == "Home" && action == "Services" ? "active" : "tx-gray-500")">SERVICES</a>
									</li>
									<li class="dropdown nav-item main-header-notification d-flex mx-2 tx-bold">
										<a href="" aria-expanded="false" aria-haspopup="true" data-bs-toggle="dropdown" class="@(controller == "Home" && (action == "IndustryLinks" || action == "CalculatorNTitleRates") ? "active" : "tx-gray-500")">
											RESOURCES
										</a>
										<div class="dropdown-menu tx-12">
											<a class="dropdown-item @(controller == "Home" && (action == "IndustryLinks") ? "active" : "tx-gray-500")" asp-controller="Home" asp-action="IndustryLinks">INDUSTRY LINKS</a>
											<a class="dropdown-item @(controller == "Home" && (action == "CalculatorNTitleRates") ? "active" : "tx-gray-500")" asp-controller="Home" asp-action="CalculatorNTitleRates">CALCULATOR & TITLE RATES</a>
										</div>
									</li>
									<li class="nav-item main-header-notification mx-2 tx-bold">
										<a asp-controller="Home" asp-action="Contact" class="@(controller == "Home" && action == "Contact" ? "active" : "tx-gray-500")">CONTACT</a>
									</li>
									@if (User.IsInRole("Client"))
									{
										<li class="nav-item main-header-notification mx-2 tx-bold">
											<a href="https://guardiancapitolllc.com/Account" class="tx-gray-500">ACCOUNT</a>
										</li>
									}
									else if(User.IsInRole("Admin"))
									{
										<li class="nav-item main-header-notification mx-2 tx-bold">
											<a href="https://guardiancapitolllc.com/" class="tx-gray-500">ACCOUNT</a>
										</li>
									}
									@if (User.Identity.IsAuthenticated)
									{
										<li class="nav-item main-header-notification mx-2 tx-bold">
											<a href="#" id="logout-link" class="text-danger">LOG OUT</a>
										</li>
									}
									else
									{
										<li class="nav-item main-header-notification mx-2 tx-bold">
											<a class="tx-gray-500" asp-controller="Auth" asp-action="Index">LOG IN</a>
										</li>
									}
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /main-header -->
			<!-- main-sidebar -->
			<div class="sticky">
				<aside class="app-sidebar">
					<div class="main-sidebar-header active">
						<a class="header-logo active" asp-controller="Home" asp-action="Index">
							<img src="~/img/brand/logo.png" class="main-logo  desktop-logo" alt="logo">
							<img src="~/img/brand/favicon.png" class="main-logo  mobile-logo" alt="logo">
						</a>
					</div>
				</aside>
			</div>
			<!-- main-sidebar -->
		</div>

		<!-- main-content -->
		<div class="main-content app-content">
			<!-- container -->
			<div class="main-container container-fluid">
				@if (TempData["NotificationMessage"] != null)
				{
					<div class="pos-relative mx-sm-5 mt-2" style="z-index: 2">
						<div class="demo-static-toast pos-absolute t-0 r-0">
							<div aria-atomic="true" aria-live="assertive" class="toast fade show" role="alert" data-bs-autohide="true" data-bs-delay="5">
								<!-- 5000 milliseconds = 5 seconds -->
								<div class="toast-header">
									<h6 class="tx-14 mg-b-0 mg-r-auto">Notification</h6>
									<button aria-label="Close" class="ms-2 mb-1 close tx-normal" data-bs-dismiss="toast" type="button">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="toast-body">
									@TempData["NotificationMessage"]
								</div>
							</div>
						</div>
					</div>
				}
				@RenderBody()
			</div>
			<!-- /Container -->
		</div>
		<!-- /main-content -->
		<!-- Footer opened -->
		@if (controller == "Home" && action == "Contact")
		{
			<div class="main-footer main-contact-footer d-flex flex-row justify-content-center text-white border-0">
				<div class="col-sm-4 col-lg-4 col-xl-4 d-flex flex-column align-items-start pd-t-30">
					<img src="~/img/brand/logo (1).png" style="max-height:40px; width:auto; object-fit: contain;" />
					<span class="mt-2">
						We offer a variety of services that protect owners and lenders from damage or loss, combined with flexible closing and underwriting solutions. We are able to meet every real estate challenge.
					</span>
					<span class="tx-12 mt-4 mb-5">
						©<script>document.write(new Date().getFullYear());</script> Maximus Title LLC. All rights reserved.
					</span>
				</div>
				<div class="col-sm-4 col-lg-4 col-xl-4 pd-t-30 d-flex flex-column">
					<div class="pd-t-20">
						<a asp-controller="Home" asp-action="About" class="btn btn-outline-light text-white mx-2 mt-2">ABOUT</a>
						<a asp-controller="Home" asp-action="Services" class="btn btn-outline-light text-white mx-2 mt-2">SERVICES</a>
						<a asp-controller="Home" asp-action="Contact" class="btn btn-outline-light text-white mx-2 mt-2">CONTACT</a>
						<a asp-controller="Home" asp-action="IndustryLinks" class="btn btn-outline-light text-white mx-2 mt-2">INDUSTRY LINKS</a>
						<a asp-controller="Home" asp-action="CalculatorNTitleRates" class="btn btn-outline-light text-white mx-2 mt-2">CALCULATOR & TITLE RATES</a>
					</div>
				</div>
			</div>
		}
		else
		{
			<div class="main-footer main-normal-footer d-flex flex-column flex-lg-row justify-content-center text-white border-0">
				<div class="col-sm-12 col-md-12 col-lg-4 col-xl-4 d-flex flex-column align-items-start pd-t-30">
					<img src="~/img/brand/logo (1).png" style="max-height:40px; width:auto; object-fit: contain;" />
					<span class="mt-2">
						We offer a variety of services that protect owners and lenders from damage or loss, combined with flexible closing and underwriting solutions. We are able to meet every real estate challenge.
					</span>
					<div class="pd-t-20">
						<a asp-controller="Home" asp-action="About" class="btn btn-outline-light text-white mx-2 mt-2">ABOUT</a>
						<a asp-controller="Home" asp-action="Services" class="btn btn-outline-light text-white mx-2 mt-2">SERVICES</a>
						<a asp-controller="Home" asp-action="Contact" class="btn btn-outline-light text-white mx-2 mt-2">CONTACT</a>
						<a asp-controller="Home" asp-action="IndustryLinks" class="btn btn-outline-light text-white mx-2 mt-2">INDUSTRY LINKS</a>
						<a asp-controller="Home" asp-action="CalculatorNTitleRates" class="btn btn-outline-light text-white mx-2 mt-2">CALCULATOR & TITLE RATES</a>
					</div>
					<span class="mt-4 tx-bold">
						Corporate Office
					</span>
					<span>
						100 Quentin Roosevelt Boulevard, Suite 501
					</span>
					<span>
						Garden City NY 11530
					</span>
					<span class="mt-2 tx-bold">
						Production Office
					</span>
					<span>
						732 Smithtown Bypass, Suite 102B
					</span>
					<span>
						Smithtown NY 11787
					</span>
					<span class="mt-2">
						Phone: (212) 695-1212
					</span>
					<span>
						Phone: (631) 328-4410
					</span>
					<span>
						Fax: (516) 877-7603
					</span>
					<span>
						Email: Info@Maximustitle.com
					</span>

					<span class="tx-12 mt-4 mb-5">
						©<script>document.write(new Date().getFullYear());</script> Maximus Title. All rights reserved.
					</span>
				</div>
				<div class="col-sm-12 col-md-12 col-lg-4 col-xl-4 pd-t-30 d-flex flex-column">
					<span class="tx-20">
						Contact us
					</span>
					<form asp-action="SendMessage" asp-controller="Home" method="post" class="form-group mt-4">
						<input type="hidden" name="ReturnUrl" value="@Context.Request.Path" />
						<input asp-for="Name" class="form-control main-form-control bg-transparent text-white" placeholder="Your Name" />
						<input asp-for="Email" class="form-control main-form-control bg-transparent text-white mt-3" placeholder="Email Address" />
						<input asp-for="Phone" class="form-control main-form-control bg-transparent text-white mt-3" placeholder="Phone Number" />
						<textarea asp-for="Message" id="messageTextarea" class="form-control main-form-control bg-transparent text-white mt-3" placeholder="Your Message" rows="4" maxlength="250"></textarea>
						<div id="charCounter" class="char-counter tx-12 mt-2"></div>
						<div class="h-captcha" data-sitekey="46b6a48a-b284-48c2-a47a-abd2ab160924"></div>
						<button class="btn btn-outline-light text-white mt-3" type="submit">SUBMIT</button>
					</form>
				</div>
			</div>
		}
		<!-- Footer closed -->
	</div>
	<!-- End Page -->
	<!-- Back-to-top -->
	<a href="#top" id="back-to-top"><i class="las la-arrow-up"></i></a>

	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://hcaptcha.com/1/api.js" async defer></script>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const textarea = document.getElementById('messageTextarea');
			const counter = document.getElementById('charCounter');
			const maxLength = 250;

			function updateCounter() {
				const currentLength = textarea.value.length;
				const remaining = maxLength - currentLength;

				// Update counter text
				counter.textContent = `${currentLength} of ${maxLength} max characters`;

				// Update counter color based on usage
				counter.classList.remove('tx-gray-400', 'text-warning', 'text-danger');

				if (currentLength >= maxLength) {
					counter.classList.add('text-danger');
				} else if (currentLength >= maxLength * 0.8) { // 80% threshold
					counter.classList.add('text-warning');
				} else {
					counter.classList.add('tx-gray-400');
				}
			}

			// Update counter on input
			textarea.addEventListener('input', updateCounter);

			// Update counter on paste
			textarea.addEventListener('paste', function() {
				setTimeout(updateCounter, 10);
			});

			// Prevent typing beyond limit (backup to maxlength attribute)
			textarea.addEventListener('keydown', function(e) {
				const currentLength = textarea.value.length;

				// Allow backspace, delete, arrow keys, etc.
				const allowedKeys = [8, 9, 13, 27, 46, 37, 38, 39, 40];

				if (currentLength >= maxLength && !allowedKeys.includes(e.keyCode) && !e.ctrlKey && !e.metaKey) {
					e.preventDefault();
				}
			});

			// Initialize counter
			updateCounter();
		});

		document.getElementById("logout-link").addEventListener("click", function (e) {
			e.preventDefault();

			Swal.fire({
					title: 'Are you sure you want to log out?',
					icon: 'warning',
					showCancelButton: true,
					confirmButtonText: 'Yes, log out',
					cancelButtonText: 'Cancel',
					customClass: {
						cancelButton: 'btn btn-primary text-white',
						confirmButton: 'btn btn-danger text-white'
					}
			}).then((result) => {
				if (result.isConfirmed) {
					window.location.href = '/Auth/LogOut';
				}
			});
		});
	</script>

	<!-- JQuery min js -->
	<script src="~/plugins/jquery/jquery.min.js"></script>

	<!-- Bootstrap js -->
	<script src="~/plugins/bootstrap/js/popper.min.js"></script>
	<script src="~/plugins/bootstrap/js/bootstrap.min.js"></script>

	<!-- Internal Chart.Bundle js-->
	<script src="~/plugins/chart.js/Chart.bundle.min.js"></script>

	<!-- Moment js -->
	<script src="~/plugins/moment/moment.js"></script>

	<!-- INTERNAL Apexchart js -->
	<script src="~/js/apexcharts.js"></script>

	<!--Internal Sparkline js -->
	<script src="~/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>

	<!-- Moment js -->
	<script src="~/plugins/raphael/raphael.min.js"></script>

	<!--Internal  Perfect-scrollbar js -->
	<script src="~/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="~/plugins/perfect-scrollbar/p-scroll.js"></script>

	<!-- Eva-icons js -->
	<script src="~/js/eva-icons.min.js"></script>

	<!-- right-sidebar js -->
	<script src="~/plugins/sidebar/sidebar.js"></script>
	<script src="~/plugins/sidebar/sidebar-custom.js"></script>

	<!-- Sidebar js -->
	<script src="~/plugins/side-menu/sidemenu.js"></script>

	<!-- Sticky js -->
	<script src="~/js/sticky.js"></script>

	<!--Internal  index js -->
	<script src="~/js/index.js"></script>

	<!-- Chart-circle js -->
	<script src="~/js/circle-progress.min.js"></script>

	<!-- Internal Data tables -->
	<script src="~/plugins/datatable/js/jquery.dataTables.min.js"></script>
	<script src="~/plugins/datatable/js/dataTables.bootstrap5.js"></script>
	<script src="~/plugins/datatable/dataTables.responsive.min.js"></script>
	<script src="~/plugins/datatable/responsive.bootstrap5.min.js"></script>

	<!-- INTERNAL Select2 js -->
	<script src="~/plugins/select2/js/select2.full.min.js"></script>
	<script src="~/js/select2.js"></script>

	<!-- Theme Color js -->
	<script src="~/js/themecolor.js"></script>

	<!-- Internal Owl Carousel js-->
	<script src="~/plugins/owl-carousel/owl.carousel.js"></script>

	<!---Internal  Multislider js-->
	<script src="~/plugins/multislider/multislider.js"></script>
	<script src="~/js/carousel.js"></script>

	<!-- custom js -->
	<script src="~/js/custom.js"></script>

	<!-- Internal Data tables -->
	<script src="~/plugins/datatable/js/jquery.dataTables.min.js"></script>
	<script src="~/plugins/datatable/js/dataTables.bootstrap5.js"></script>
	<script src="~/plugins/datatable/js/dataTables.buttons.min.js"></script>
	<script src="~/plugins/datatable/js/buttons.bootstrap5.min.js"></script>
	<script src="~/plugins/datatable/js/jszip.min.js"></script>
	<script src="~/plugins/datatable/pdfmake/pdfmake.min.js"></script>
	<script src="~/plugins/datatable/pdfmake/vfs_fonts.js"></script>
	<script src="~/plugins/datatable/js/buttons.html5.min.js"></script>
	<script src="~/plugins/datatable/js/buttons.print.min.js"></script>
	<script src="~/plugins/datatable/js/buttons.colVis.min.js"></script>
	<script src="~/plugins/datatable/dataTables.responsive.min.js"></script>
	<script src="~/plugins/datatable/responsive.bootstrap5.min.js"></script>
	<script src="~/js/table-data.js"></script>

</body>
</html>